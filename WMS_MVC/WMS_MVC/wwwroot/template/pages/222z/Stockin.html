<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Majestic Admin</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="../../vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="../../vendors/base/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- inject:css -->
    <link rel="stylesheet" href="../../css/style.css">
    <!-- endinject -->
    <link rel="shortcut icon" href="../../images/favicon.png" />
</head>

<body>
    <div class="container-scroller">
        <!-- partial:../../partials/_navbar.html -->
        <nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
            <div class="navbar-brand-wrapper d-flex justify-content-center">
                <div class="navbar-brand-inner-wrapper d-flex justify-content-between align-items-center w-100">
                    <a class="navbar-brand brand-logo" href="../../index.html"><img src="../../images/logo.svg" alt="logo" /></a>
                    <a class="navbar-brand brand-logo-mini" href="../../index.html"><img src="../../images/logo-mini.svg" alt="logo" /></a>
                    <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
                        <span class="mdi mdi-sort-variant"></span>
                    </button>
                </div>
            </div>
            <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
                <ul class="navbar-nav mr-lg-4 w-100">
                    <li class="nav-item nav-search d-none d-lg-block w-100">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="search">
                                    <i class="mdi mdi-magnify"></i>
                                </span>
                            </div>
                            <input type="text" class="form-control" placeholder="Search now" aria-label="search" aria-describedby="search">
                        </div>
                    </li>
                </ul>
                <ul class="navbar-nav navbar-nav-right">
                    <li class="nav-item dropdown mr-1">
                        <a class="nav-link count-indicator dropdown-toggle d-flex justify-content-center align-items-center" id="messageDropdown" href="#" data-toggle="dropdown">
                            <i class="mdi mdi-message-text mx-0"></i>
                            <span class="count"></span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="messageDropdown">
                            <p class="mb-0 font-weight-normal float-left dropdown-header">Messages</p>
                            <a class="dropdown-item">
                                <div class="item-thumbnail">
                                    <img src="../../images/faces/face4.jpg" alt="image" class="profile-pic">
                                </div>
                                <div class="item-content flex-grow">
                                    <h6 class="ellipsis font-weight-normal">
                                        David Grey
                                    </h6>
                                    <p class="font-weight-light small-text text-muted mb-0">
                                        The meeting is cancelled
                                    </p>
                                </div>
                            </a>
                            <a class="dropdown-item">
                                <div class="item-thumbnail">
                                    <img src="../../images/faces/face2.jpg" alt="image" class="profile-pic">
                                </div>
                                <div class="item-content flex-grow">
                                    <h6 class="ellipsis font-weight-normal">
                                        Tim Cook
                                    </h6>
                                    <p class="font-weight-light small-text text-muted mb-0">
                                        New product launch
                                    </p>
                                </div>
                            </a>
                            <a class="dropdown-item">
                                <div class="item-thumbnail">
                                    <img src="../../images/faces/face3.jpg" alt="image" class="profile-pic">
                                </div>
                                <div class="item-content flex-grow">
                                    <h6 class="ellipsis font-weight-normal">
                                        Johnson
                                    </h6>
                                    <p class="font-weight-light small-text text-muted mb-0">
                                        Upcoming board meeting
                                    </p>
                                </div>
                            </a>
                        </div>
                    </li>
                    <li class="nav-item dropdown mr-4">
                        <a class="nav-link count-indicator dropdown-toggle d-flex align-items-center justify-content-center notification-dropdown" id="notificationDropdown" href="#" data-toggle="dropdown">
                            <i class="mdi mdi-bell mx-0"></i>
                            <span class="count"></span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="notificationDropdown">
                            <p class="mb-0 font-weight-normal float-left dropdown-header">Notifications</p>
                            <a class="dropdown-item">
                                <div class="item-thumbnail">
                                    <div class="item-icon bg-success">
                                        <i class="mdi mdi-information mx-0"></i>
                                    </div>
                                </div>
                                <div class="item-content">
                                    <h6 class="font-weight-normal">Application Error</h6>
                                    <p class="font-weight-light small-text mb-0 text-muted">
                                        Just now
                                    </p>
                                </div>
                            </a>
                            <a class="dropdown-item">
                                <div class="item-thumbnail">
                                    <div class="item-icon bg-warning">
                                        <i class="mdi mdi-settings mx-0"></i>
                                    </div>
                                </div>
                                <div class="item-content">
                                    <h6 class="font-weight-normal">Settings</h6>
                                    <p class="font-weight-light small-text mb-0 text-muted">
                                        Private message
                                    </p>
                                </div>
                            </a>
                            <a class="dropdown-item">
                                <div class="item-thumbnail">
                                    <div class="item-icon bg-info">
                                        <i class="mdi mdi-account-box mx-0"></i>
                                    </div>
                                </div>
                                <div class="item-content">
                                    <h6 class="font-weight-normal">New user registration</h6>
                                    <p class="font-weight-light small-text mb-0 text-muted">
                                        2 days ago
                                    </p>
                                </div>
                            </a>
                        </div>
                    </li>
                    <li class="nav-item nav-profile dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="profileDropdown">
                            <img src="../../images/faces/face5.jpg" alt="profile" />
                            <span class="nav-profile-name">Louis Barnett</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
                            <a class="dropdown-item">
                                <i class="mdi mdi-settings text-primary"></i>
                                Settings
                            </a>
                            <a class="dropdown-item">
                                <i class="mdi mdi-logout text-primary"></i>
                                Logout
                            </a>
                        </div>
                    </li>
                </ul>
                <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
                    <span class="mdi mdi-menu"></span>
                </button>
            </div>
        </nav>
        <!-- partial -->
        <div class="container-fluid page-body-wrapper">
            <!-- partial:../../partials/_sidebar.html -->
            <nav class="sidebar sidebar-offcanvas" id="sidebar">
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/Login/Index">
                            <i class="mdi mdi-home menu-icon"></i>
                            <span class="menu-title">首页</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" data-toggle="collapse" href="#ui-basic1" aria-expanded="false" aria-controls="ui-basic1">
                            <i class="mdi mdi-circle-outline menu-icon"></i>
                            <span class="menu-title">用户及部门管理</span>
                            <i class="menu-arrow"></i>
                        </a>
                        <div class="collapse" id="ui-basic1">
                            <ul class="nav flex-column sub-menu">
                                <li class="nav-item"><a class="nav-link" href="../ui-features1/UserShow.html">用户管理</a></li>
                                <li class="nav-item"><a class="nav-link" href="../ui-features1/DeptShow.html">部门管理</a></li>
                            </ul>
                        </div>
                    </li>

                    <!--！！！张俊雷！！！-->
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="collapse" href="#ui-basicc" aria-expanded="false" aria-controls="ui-basicc">
                            <i class="mdi mdi-circle-outline menu-icon"></i>
                            <span class="menu-title">客户管理</span>
                            <i class="menu-arrow"></i>
                        </a>
                        <div class="collapse" id="ui-basicc">
                            <ul class="nav flex-column sub-menu">
                                <li class="nav-item"><a class="nav-link" href="../Carrier/Carrier.html">承运商管理</a></li>
                                <li class="nav-item"><a class="nav-link" href="../Carrier/Supplier.html">供应商管理</a></li>
                                <li class="nav-item"><a class="nav-link" href="../Carrier/Customer.html">客户管理</a></li>
                            </ul>
                        </div>
                    </li>
                    <!--！！！张俊雷！！！！-->

                    <li class="nav-item">
                        <a class="nav-link" data-toggle="collapse" href="#ui-basic" aria-expanded="false" aria-controls="ui-basic">
                            <i class="mdi mdi-circle-outline menu-icon"></i>
                            <span class="menu-title">库存管理①</span>
                            <i class="menu-arrow"></i>
                        </a>
                        <div class="collapse" id="ui-basic">
                            <ul class="nav flex-column sub-menu">
                                <li class="nav-item"><a class="nav-link" href="../ui-features/Delivery.html">发货记录</a>
                                <li class="nav-item"><a class="nav-link" href="../ui-features/Inventoryrecord.html">库存记录</a>
                                <li class="nav-item"><a class="nav-link" href="../ui-features/Inventorymove.html">库存移动</a>
                            </ul>
                        </div>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" data-toggle="collapse" href="#ui-basic2" aria-expanded="false" aria-controls="ui-basic">
                            <i class="mdi mdi-circle-outline menu-icon"></i>
                            <span class="menu-title">库存管理②</span>
                            <i class="menu-arrow"></i>
                        </a>
                        <div class="collapse" id="ui-basic2">
                            <ul class="nav flex-column sub-menu">
                                <li class="nav-item"><a class="nav-link" href="Stockin.html">入库管理</a></li>
                                <li class="nav-item"><a class="nav-link" href="Stockout.html">出库管理</a></li>
                                <li class="nav-item"><a class="nav-link" href="Inventorys.html">库存查询</a></li>
                            </ul>
                        </div>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" data-toggle="collapse" href="#ui-basic3" aria-expanded="false" aria-controls="ui-basic">
                            <i class="mdi mdi-circle-outline menu-icon"></i>
                            <span class="menu-title">库存管理③</span>
                            <i class="menu-arrow"></i>
                        </a>
                        <div class="collapse" id="ui-basic3">
                            <ul class="nav flex-column sub-menu">
                                <li class="nav-item"><a class="nav-link" href="../lllj/ReservoirareaPage.html">仓库管理</a></li>
                                <li class="nav-item"><a class="nav-link" href="../lllj/WarehousePage.html">库区管理</a></li>
                                <li class="nav-item"><a class="nav-link" href="../lllj/StoragerackPage.html">货架管理</a></li>
                            </ul>
                        </div>
                    </li>

                </ul>
            </nav>
            <!-- partial -->
            <div class="main-panel">
                <div style="margin-left:50px;margin-top:50px;">
                    <input id="Button1" class="button" type="button" value="添加" data-toggle="modal" data-target="#myModal4e" />
                    <input id="Button2" class="button" type="button" value="修改" data-toggle="modal" data-target="#myModal4ss" onclick="Find()" />
                    <input id="Button3" class="button" type="button" value="删除" onclick="Dels()" />
                </div>
                <table class="table table-hover">
                    <tr>
                        <td>日期范围</td>
                        <td><input id="Texttime1" type="text" onclick="WdatePicker()" /></td>
                        <td><input id="Textrime2" type="text" onclick="WdatePicker()" /></td>
                        <td>
                            <select id="Select1">
                                <option value="">全部类型</option>
                                <option value="采购入库">采购入库</option>
                                <option value="外协入库">外协入库</option>
                            </select>
                        </td>
                        <td>
                            <select id="Select2">
                                <option value=0>全部状态</option>
                                <option value=1>待审核</option>
                                <option value=2>审核未通过</option>
                                <option value=3>审核通过</option>
                                <option value=4>审核中</option>
                                <option value=5>已发货</option>
                            </select>
                        </td>
                        <td><input id="Button1" type="button" value="查询" class="btn btn-info" onclick="Show(1)" /></td>
                    </tr>
                </table>
                <table class="table table-hover" style="text-align:center">
                    <thead>
                        <tr>
                            <td></td>
                            <td></td>
                            <td>操作</td>
                            <td>入库单号</td>
                            <td>订单号</td>
                            <td>入库类型</td>
                            <td>供应商编号</td>
                            <td>状态</td>
                            <td>备注</td>
                            <td>创建人</td>
                            <td>创建时间</td>
                            <td>修改人</td>
                            <td>修改时间</td>
                        </tr>
                    </thead>
                    <tbody id="tb"></tbody>
                </table>
                <div style="float:left;margin-top:25px">
                    <span>总记录数<span id="TotalCount"></span>条</span>&nbsp;&nbsp;&nbsp;
                    <span>总共<span id="TotalPage"></span>页</span>&nbsp;&nbsp;&nbsp;
                    <span>当前第<span id="CurrentPage"></span>页</span>&nbsp;&nbsp;&nbsp;
                    <span>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    </span>
                    <span><a href="javascript:;" onclick="Show(1)">首页</a></span>&nbsp;&nbsp;&nbsp;
                    <span><a href="javascript:;" onclick="Show(currentPage-1)">上一页</a></span>&nbsp;&nbsp;&nbsp;
                    <span><a href="javascript:;" onclick="Show(currentPage+1)">下一页</a></span>&nbsp;&nbsp;&nbsp;
                    <span><a href="javascript:;" onclick="Show(totalPage)">尾页</a></span>
                </div>
            </div>
            <!-- content-wrapper ends -->
            <!-- partial:../../partials/_footer.html -->
            <!--<footer class="footer">
        <div class="d-sm-flex justify-content-center justify-content-sm-between">
            <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Copyright © 2018 <a href="https://www.urbanui.com/" target="_blank">Urbanui</a>. All rights reserved.</span>
            <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Hand-crafted & made with <i class="mdi mdi-heart text-danger"></i></span>
        </div>
    </footer>-->
            <!-- partial -->
        </div>
        <!-- main-panel ends -->
    </div>


    <!-- page-body-wrapper ends -->
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="../../vendors/base/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- inject:js -->
    <script src="../../js/off-canvas.js"></script>
    <script src="../../js/hoverable-collapse.js"></script>
    <script src="../../js/template.js"></script>
    <!-- endinject -->

    <script src="~/lib/jquery/dist/jquery.js"></script>
    <link href="~/lib/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />
    <script src="../../../My97DatePicker/WdatePicker.js"></script>
    <script>
        $(function () {
            Show(1);
        })
        //显示
        function Show(page) {
            $.ajax({
                url: "http://localhost:63209/api/Stockins/Gets",
                type: "Get",
                data: { time1: $("#Texttime1").val(), time2: $("#Textrime2").val(), type: $("#Select1").val(), state: $("#Select2").val(), CurrentPage: page, },
                contentType: "application/json",
                success: function (d) {
                    $("#TotalCount").text(d.totalCount)
                    $("#TotalPage").text(d.totalPage)
                    $("#CurrentPage").text(d.currentPage)
                    //最大页
                    totalPage = d.totalPage;
                    //当前页
                    currentPage = d.currentPage;
                    //清空表格
                    $("#tb").empty();
                    //循环遍历
                    $(d.stockins).each(function () {
                        //拼接tr一行
                        var line = '<tr>'
                            + '<td>' + '<input id="Checkbox1" type="checkbox" name="test" value=' + this.stockInId + ' />' + '</td>'
                            + '<td>' + '<a data-toggle="modal" data-target="#myModal4" href=javascript:; onclick="Shows(' + this.stockInId + ')">查看明细</a>' + '</td>'
                            + '<td>' + '<a data-toggle="modal" data-target="#myModal4s" href=javascript:; onclick="Getide(' + this.stockInId + ')">添加明细</a>' + '    ' + '<a href=javascript:; onclick="Shenhe(' + this.stockInId + ')">审核</a>' + '</td>'
                            + '<td>' + this.stockInId + '</td>'
                            + '<td>' + this.orderNo + '</td>'
                            + '<td>' + this.stockInType + '</td>'
                            + '<td>' + this.supplierId + '</td>'
                            + '<td>' + (this.stockInStatus==1?"已审核":"初始") + '</td>'
                            + '<td>' + this.remark + '</td>'
                            + '<td>' + this.createBy + '</td>'
                            + '<td>' + this.createDate + '</td>'
                            + '<td>' + this.modifiedBy + '</td>'
                            + '<td>' + this.modifiedDate + '</td>'
                            + '</tr>'
                        //将数据放入表格
                        $("#tb").append(line);
                    });
                }
            });
        }
        //获取多选框的值
        function chk() {
            var obj = document.getElementsByName('test');
            console.log(obj);
            var s = '';
            for (var i = 0; i < obj.length; i++) {
                if (obj[i].checked) {
                    s += obj[i].value;

                    return s;
                }
            }
        }
        function Add() {
            var obj = {};
            obj.stockInType = $("#Select111111").val();
            obj.supplierId = parseInt($("#Select222222").val());
            obj.remark = $("#TextArea333333").val();
            $.ajax({
                url: 'http://localhost:63209/api/Stockins/Post',
                type: 'Post',
                data: JSON.stringify(obj),
                contentType: "application/json",
                dataType: 'json',
                success: function (d) {
                    if (d > 0) {
                        alert('添加成功');
                        location.href = 'Stockin.html';
                    }
                }
            })
        }
        //反填
        function Find() {
            $.ajax({
                url: 'http://localhost:63209/api/Stockins/Get/' + chk(),
                type: 'get',
                contentType: "application/json",
                dataType: 'json',
                //crossDomain: true;
                success: function (d) {
                    $("#Select0").val(d.stockInType);
                    $("#Select00").val(d.supplierId);
                    $("#TextArea000").val(d.remark);
                }
            })
        }
        //修改
        function Upt() {
            var obj = {};
            obj.stockInType = $("#Select0").val();
            obj.supplierId = parseInt($("#Select00").val());
            obj.remark = $("#TextArea000").val();
            obj.stockInId = parseInt(chk());
            $.ajax({
                url: 'http://localhost:63209/api/Stockins/Puts',
                type: 'Post',
                data: JSON.stringify(obj),
                contentType: "application/json",
                dataType: 'json',
                success: function (d) {
                    if (d > 0) {
                        alert('修改成功');
                        location.href = 'Stockin.html';
                    }
                }
            })
        }
        //删除
        function Dels() {
            $.ajax({
                url: 'http://localhost:63209/api/Stockins/Delete?id=' + chk(),
                type: 'Delete',
                contentType: "application/json",
                dataType: 'json',
                success: function (d) {
                    if (d > 0) {
                        alert('删除成功');
                        location.href = 'Stockin.html';
                    }
                }
            })
        }
        //审核入库
        function Shenhe(id) {
            var obj = {};
            obj.id = parseInt(id);
            obj.name = "张三";
            $.ajax({
                url: 'http://localhost:63209/api/RuKu/Puts',
                type: 'Post',
                data: JSON.stringify(obj),
                contentType: "application/json",
                crossDomain: true,
                success: function (date) {
                    if (date == 1) {
                        alert("审核成功");
                        location.href = 'Stockin.html';
                    }
                    else {
                        alert("没有明细不能审核");
                        location.href = 'Stockin.html';
                    }
                }

            })
        }
        //显示
        function Shows(id) {
            $.ajax({
                url: "http://localhost:63209/api/Stockindetails/Gets?StockInIds=" + id,
                type: "Get",
                contentType: "application/json",
                success: function (d) {
                    $("#td").empty();
                    //循环遍历
                    $(d).each(function () {
                        //拼接tr一行
                        var line = '<tr>'
                            + '<td>' + '<a data-toggle="modal" data-target="#myModal4eee" href=javascript:; onclick="Getids(' + this.stockInDetailId + '),Finds()">修改</a>' + '    ' + '<a href=javascript:; onclick="Del(' + this.stockInDetailId + ')">删除</a>' + '</td>'
                            + '<td>' + this.stockInDetailId + '</td>'
                            + '<td>' + this.stockInId + '</td>'
                            + '<td>' + (this.status==1?"已审核":"初始") + '</td>'
                            + '<td>' + this.planInQty + '</td>'
                            + '<td>' + this.actInQty + '</td>'
                            + '<td>' + this.storagerackId + '</td>'
                            + '<td>' + this.auditinId + '</td>'
                            + '<td>' + this.auditinTime + '</td>'
                            + '<td>' + this.remark + '</td>'
                            + '<td>' + this.createBy + '</td>'
                            + '<td>' + this.createDate + '</td>'
                            + '<td>' + this.modifiedBy + '</td>'
                            + '<td>' + this.modifiedDate + '</td>'
                            + '</tr>'
                        //将数据放入表格
                        $("#td").append(line);
                    });
                }
            });
        }
        var ids = 0;
        function Getids(id) {
            ids = id;
        }
        function Getid(id) {
            location.href = '/Stockindetails/Upt?id=' + id;
        }
        //删除
        function Del(id) {
            $.ajax({
                url: 'http://localhost:63209/api/Stockindetails/Delete/' + id,
                type: 'Delete',
                contentType: "application/json",
                dataType: 'json',
                success: function (d) {
                    if (d > 0) {
                        alert('删除成功');
                        location.href = 'Stockin.html';
                    }
                }
            })
        }
        //获取ID
        var Id = 0;
        function Getide(id) {
            Id = id;
        }
        function Adds() {
            var obj = {};
            obj.planInQty = parseInt($("#Text1").val());
            obj.actInQty = parseInt($("#Text2").val());
            obj.storagerackId = parseInt($("#Select6").val());
            obj.remark = $("#TextArea3").val();
            obj.stockInId = parseInt(Id);
            $.ajax({
                url: 'http://localhost:63209/api/Stockindetails/Post',
                type: 'Post',
                data: JSON.stringify(obj),
                contentType: "application/json",
                dataType: 'json',
                success: function (d) {
                    if (d > 0) {
                        alert('添加成功');
                        location.href = 'Stockin.html';
                    }
                }
            })
        }
        //反填明细
        function Finds() {
            //var id = location.search;
            //id = id.substr(id.indexOf('=') + 1);
            $.ajax({
                url: 'http://localhost:63209/api/Stockindetails/Get/' + ids,
                type: 'Get',
                contentType: "application/json",
                dataType: 'json',
                crossDomain: true,
                success: function (d) {
                    $("#Text10").val(d.planInQty);
                    $("#Text11").val(d.actInQty);
                    $("#Select10").val(d.storagerackId);
                    $("#TextArea10").val(d.remark);
                }
            })
        }
        //修改明细
        function Addss() {
            var obj = {};
            obj.planInQty = parseInt($("#Text10").val());
            obj.actInQty = parseInt($("#Text11").val());
            obj.storagerackId = parseInt($("#Select10").val());
            obj.remark = $("#TextArea10").val();
            obj.stockInDetailId = parseInt(ids);
            $.ajax({
                url: 'http://localhost:63209/api/Stockindetails/Puts',
                type: 'post',
                data: JSON.stringify(obj),
                contentType: "application/json",
                dataType: 'json',
                success: function (d) {
                    if (d > 0) {
                        alert('修改成功');
                        location.href = 'Stockin.html';
                    }
                }
            })
        }
    </script>
    <div class="modal fade" id="myModal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="align-self:center; float:left;margin-left:150px">
            <div class="modal-content" style="width:1500px;align-items:center;float:left">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">库存明细</h4>
                </div>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <td>操作</td>
                            <td>明细ID</td>
                            <td>入库单号</td>
                            <td>状态</td>
                            <td>计划数量</td>
                            <td>实际数量</td>
                            <td>货架编号</td>
                            <td>审核人</td>
                            <td>审核时间</td>
                            <td>备注</td>
                            <td>创建人</td>
                            <td>创建时间</td>
                            <td>修改人</td>
                            <td>修改时间</td>
                        </tr>
                    </thead>
                    <tbody id="td"></tbody>
                </table>
                <div class="form-group">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="myModal4s" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="align-self:center; float:left;margin-left:150px">
            <div class="modal-content" style="width:1500px;align-items:center;float:left">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">库存明细</h4>
                </div>
                <table class="table table-hover">
                    <tr>
                        <td>计划数量</td>
                        <td><input id="Text1" type="text" /></td>
                    </tr>
                    <tr>
                        <td>实际数量</td>
                        <td><input id="Text2" type="text" /></td>
                    </tr>
                    <tr>
                        <td>货架</td>
                        <td>
                            <select id="Select6">
                                <option value="1">德玛西亚</option>
                                <option value="2">啥也不是</option>
                                <option value="3">啦啦啦啦</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>备注</td>
                        <td><textarea id="TextArea3" rows="2" cols="20"></textarea></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input id="Button1" type="button" value="确认" onclick="Adds()" /></td>
                    </tr>
                </table>
                <div class="form-group">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="myModal4eee" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="align-self:center; float:left;margin-left:150px">
            <div class="modal-content" style="width:1500px;align-items:center;float:left">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">库存明细</h4>
                </div>
                <table class="table table-hover">
                    <tr>
                        <td>计划数量</td>
                        <td><input id="Text10" type="text" /></td>
                    </tr>
                    <tr>
                        <td>实际数量</td>
                        <td><input id="Text11" type="text" /></td>
                    </tr>
                    <tr>
                        <td>货架</td>
                        <td>
                            <select id="Select10">
                                <option value="1">德玛西亚</option>
                                <option value="2">啥也不是</option>
                                <option value="3">啦啦啦啦</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>备注</td>
                        <td><textarea id="TextArea10" rows="2" cols="20"></textarea></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input id="Button1" type="button" value="确认" onclick="Addss()" /></td>
                    </tr>
                </table>
                <div class="form-group">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="myModal4ss" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="align-self:center; float:left;margin-left:150px">
            <div class="modal-content" style="width:1500px;align-items:center;float:left">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">库存明细</h4>
                </div>
                <table class="table table-bordered ">
                    <tr>
                        <td>入库类型</td>
                        <td>
                            <select id="Select0">
                                <option value="0">请选择</option>
                                <option value="采购入库">采购入库</option>
                                <option value="外协入库">外协入库</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>供应商</td>
                        <td>
                            <select id="Select00">
                                <option value="0">请选择</option>
                                <option value="1">天猫</option>
                                <option value="2">淘宝</option>

                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>备注</td>
                        <td><textarea id="TextArea000" rows="2" cols="20"></textarea></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input id="Button1" type="button" value="修改" class="btn-danger btn" onclick="Upt()" /></td>
                    </tr>
                </table>
                <div class="form-group">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>

    </div>
    <div class="modal fade" id="myModal4e" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="align-self:center; float:left;margin-left:150px">
            <div class="modal-content" style="width:1500px;align-items:center;float:left">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">库存明细</h4>
                </div>
                <table class="table table-bordered ">
                    <tr>
                        <td>入库类型</td>
                        <td>
                            <select id="Select111111">
                                <option value="0">请选择</option>
                                <option value="采购入库">采购入库</option>
                                <option value="外协入库">外协入库</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>供应商</td>
                        <td>
                            <select id="Select222222">
                                <option value="0">请选择</option>
                                <option value="1">天猫</option>
                                <option value="2">淘宝</option>

                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>备注</td>
                        <td><textarea id="TextArea333333" rows="2" cols="20"></textarea></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input id="Button1" type="button" value="添加" class="btn-danger btn" onclick="Add()" /></td>
                    </tr>
                </table>
                <div class="form-group">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
<style>
    .black_overlay {
        display: none;
        position: absolute;
        top: 0%;
        left: 0%;
        width: 100%;
        height: 100%;
        background-color: black;
        z-index: 1001;
        /*-moz-opacity: 0.8;*/
        opacity: .80;
        filter: alpha(opacity=88);
    }

    .white_content {
        display: none;
        position: absolute;
        top: 25%;
        left: 25%;
        width: 55%;
        height: 55%;
        padding: 20px;
        border: 10px solid orange;
        background-color: white;
        z-index: 1002;
        overflow: auto;
    }
</style>

